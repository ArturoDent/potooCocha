.md-modal {
  position: fixed;
  top: 0;
  left: 100%;
  z-index: 2000;
  transition: transform 1000ms 250ms;
}

.menu-show {
  transform: translateX(-350px);
}

.md-overlay {
  opacity: 0;
  pointer-events: none;
  
  display  :  -webkit-flex;
  display  :  -ms-flex;
  display  :  flex;

  -webkit-flex-direction  :  column;
  -ms-flex-direction  :  column;
  flex-direction  :  column;

  -webkit-flex-wrap  :  nowrap;
  -ms-flex-wrap  :  nowrap;
  flex-wrap  :  nowrap;
  
  align-items: center;
  justify-content: center;
  
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  margin: 0;
  padding: 0;
  
  border: none;
  background-color: $bgColor;
  // transition: opacity 1000ms 700ms;
  transition: opacity 1000ms;
}

.md-show ~ .md-overlay {
  opacity: 1;
  // transition: opacity 1000ms;
}

.backgroundBox {
  position: absolute;
  left: -1vw;
  top:  90vh;
  
  height: 5vh;
  width: 9vw;
  padding-left: 6vw;
  line-height: 4.5vh;
  background-color: $genericButtonColor;
  box-shadow: 0 0 2px rgba(0,0,0,0.7); 
}

// TODO : (separately fade in/out) ?

.overlayInfo  {
  display: flex;
  // align-content: center;
  align-items: center;
  width: 20vw;
  height: 10vh;
  min-width: 250px;
  min-height: 170px;
  
  padding: 20px;
  margin-right: 350px;
  // vertical-align: middle;
  pointer-events: none;
  
  font-size: 1.2em;
  font-variant: small-caps;
  line-height: 1.6em;
  text-align: center;
  
  border-top: 1px solid rgba(0,0,0,0.3);
  border-bottom: 1px solid rgba(255,255,255,0.6);
  border-radius:  30%;
  background-color: darken($genericButtonColor, 5%);
  box-shadow:  inset 0 0 3px rgba(0,0,0,1);
}

// .overlayInfo .underline
.underline {
  border-bottom: 2px double white;
  
  // no support for below in Edge
  // text-decoration-style: solid;
  // text-decoration-color: white;
  // text-decoration-line: underline;
}

#countryButton {
  position: absolute;
  top: 20px;
  right: 300px;
  width: 270px;
  padding : 0.7ch 0 0.9ch 2ch;
  
  text-align: left;
  
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
  box-shadow  :  inset 0 0 25px 15px transparent, 2px 2px 3px rgba(0, 0, 0, 0.1);
  transition  :  box-shadow 400ms, width 400ms, right 400ms 400ms;
}

#countryButton:after {
  content  :  '';
  position  :  absolute;
  top  :  -2.3px;
  left  :  101%;
  border-style  :  solid;
  border-width  :  calc(1.2em + 2px);
  border-color  :  transparent transparent transparent $genericButtonColor;
  transition : all 200ms 500ms;
}

#countryButton.expand:after {
  left  :  102%;
  border-color  :  transparent transparent transparent white;  
}

#countryButton:hover, #countryButton:focus {
  border : 1px solid #888;
  box-shadow  :  inset 270px 0 25px 15px #252525, 2px 2px 3px rgba(0, 0, 0, 0.1);
}

#countryButton.highlight:hover, #countryButton.highlight:focus {
  border : 1px solid #888;
  box-shadow  :  inset -270px 0 25px 15px #252525, 2px 2px 3px rgba(0, 0, 0, 0.1);
}

#countryButton.expand  {
  right: 330px;
  width: 370px;
}

.country-menu {
  position: relative;
  display  :  -webkit-flex;
  display  :  -ms-flex;
  display  :  flex;

  -webkit-flex-direction  :  column;
  -ms-flex-direction  :  column;
  flex-direction  :  column;

  -webkit-flex-wrap  :  nowrap;
  -ms-flex-wrap  :  nowrap;
  flex-wrap  :  nowrap;

  padding: 5px 0;
  justify-content: space-around;
  height: 100vh;
  font-size: 1rem;
  background-color: $countryMenuColor;
  border-left: 1px solid rgba(0,0,0,0.3);
  border-right: 1px solid rgba(0,0,0,0.3);
  // box-shadow: 0 0 12px black;
  box-shadow: -2px 0 2px rgba(0,0,0,0.2), 2px 0 2px rgba(0,0,0,0.2);
}

.countryItem {
  position: relative;
  width: 270px;
  
  display  :  -webkit-flex;
  display  :  -ms-flex;
  display  :  flex;

  -webkit-flex-direction  :  row;
  -ms-flex-direction  :  row;
  flex-direction  :  row;

  -webkit-flex-wrap  :  nowrap;
  -ms-flex-wrap  :  nowrap;
  flex-wrap  :  nowrap;

  align-items: center;

  letter-spacing: 1.5px;
  line-height: 1rem;
}

.countryItem a {
  position: relative;
  width: 271px;
  margin-right: -40px;
  margin-bottom: 1px;
  // need to subtract the font-size ass well
  padding: (calc(((100vh - 40px) - (19 * 1rem)) / 38)) 0 (calc(((100vh - 40px) - (19 * 1rem)) / 38)) 20px;

  text-decoration: none;
  text-shadow : 0  1px rgba(0,0,0,1);

  transition: all 450ms ease-out;
  cursor: pointer;
}

.country-menu a:hover, .country-menu a:focus  {
  background-color:  $countryMenuHighlightColor;
}

.country-menu a.highlight   {
  width: 300px;
  background-color:  $countryMenuHighlightColor;
  box-shadow: 0 2px 2px rgba(0,0,0,0.3);
  transition: all 450ms ease-out;
}

.country-menu a.highlight:after {
  content  :  '';
  position  :  absolute;
  top  :  -1px;
  left  :  calc(100% - 28px);
  border-style  :  solid;
  border-width  :  1.5rem;
  border-color  :  transparent white transparent transparent;
  transition : all 400ms;
}

.country-menu a.highlight:hover {
  padding-left: 30px;
}

.country-menu a.highlight:hover:after {
  // border-color  :  transparent $genericButtonColor transparent transparent;
  border-color  :  transparent black transparent transparent;
}

.flag  {
  position: absolute;
  height: 26px;
  width:26px;
  left: calc(100% - 52px);
  
  border-radius : 50%;
  background-position: center;
  background-origin: padding-box;
  background-color: $countryMenuColor;
}

.country-menu img {
  height: 26px;
  width:26px;
  background-color: tranparent;
}