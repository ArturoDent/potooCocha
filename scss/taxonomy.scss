// $bgColor  :  #959A93;
$bgColor  :  rgb(90,91,86);

$bannerColor  :  transparent;
$genericButtonColor  :  #A65751;
// $panelColor : #B1B7AE;
// $panelColor : rgb(97,98,93);
$panelColor : rgb(84,85,80);

// $panelFlyoutColor : rgba(82,104,112,1);
// $panelFlyoutColor : rgba(84,106,114,1);
$panelFlyoutColor : rgba(82,104,112,1);

$familyOpenColor : rgba(42,64,72,1);
$birdRolloverColor : #000;

/*  ------------------------------   taxonomy panel   ------------------------------------------  */

.slideUpWrapper  {
    // opacity  :  1;

    pointer-events  :  auto;
    // overflow-x: visible;
    overflow-y: hidden;
    // border-top-left-radius  :  5px;
    // border-top-right-radius  :  5%;

    transition  :  all 350ms;
}

.slideUpWrapper.closeInstructions  {
    // opacity  :  0;
    // color : $bgColor;

    // height  :  0;
    transform : scale(0.8) translateY(30px);

    // transition  :  color 350ms, height 350ms 250ms, opacity 350ms 450ms;
    transition  :  all 350ms;
}

.slideUpWrapper.hovering  {
    opacity : 0.7;
    transform : scale(0.8) translateY(30px);
    transition : all 750ms;
}

// .slideUpWrapper.closeInstructions path {
//     stroke : $bgColor;
//     transition : stroke 350ms 450ms;
// }

.taxInstructionsButton  {
    position  :  absolute;
    // top  :  -22px;
    // left  :  calc(100% - 16px);
    top : -25px;
    right : -41px;

    width  :  50px;
    height  :  50px;
    padding  :  0.4em 0 0 0;
    z-index  :  2;

    font-size  :  1.6em;
    font-weight  :  bold;
    color  :  #fff;
    text-align  :  center;

    border-radius  :  50%;
    // background  :  $panelFlyoutColor;
    background  :  rgba(0,0,0,0.2);

    box-shadow  :  0 0 0 1px rgba(0, 0, 0, 0.2), 0 0 0 1px #fff;

    cursor  :  pointer;
    -webkit-transition  :  all 850ms ease-in-out;
       -moz-transition  :  all 850ms ease-in-out;
         -o-transition  :  all 850ms ease-in-out;
            transition  :  all 850ms ease-in-out;
}

.taxInstructionsButton:hover {
    background  :  #252525;
}

.taxInstructionsButton:hover + div.slideUpWrapper {
    will-change  :  height, opacity;
}

// .taxInstructionsButton.instructionsClosed  {
//     top : -28px;
//     left : 100%;
// }

#searchForm  {
    display  :  flex;
    flex-direction  :  column;
    justify-content  :  space-between;

    position  :  relative;
    padding  :  10px 15px 30px 15px;
    margin-top : 10px;

    align-content  :  center;

    border-bottom  :  none;

    -webkit-transition  :  all 850ms ease-in-out;
       -moz-transition  :  all 850ms ease-in-out;
         -o-transition  :  all 850ms ease-in-out;
            transition  :  all 850ms ease-in-out;
}

#searchForm > div:first-child  {
    width  :  100%;
    margin  :  30px 0 0 0;

    text-align  :  center;

    pointer-events  :  auto;

    -webkit-transition  :  all 2s;
       -moz-transition  :  all 2s;
         -o-transition  :  all 2s;
            transition  :  all 2s;
}

#searchForm span.grayed  {
    opacity  :  0.6;

    pointer-events  :  none;
}

#taxonomyCountryButton {
    margin-right  :  30px;

    line-height  :  20px;
}

#searchInput  {
    height  :  auto;
    margin  :  0;
    padding  :  3px 0 4px 0;

    font-size  :  1.8rem;
    color  :  white;
    letter-spacing: 0.1em;
    text-align  :  center;
    text-shadow : 1px 1px 2px rgba(0,0,0,0.3);

    border  :  1px solid rgba(0,0,0,0.8);
    border-radius  :  3px;
    // background  :  $bgColor;
    background  :  $panelColor;

    -webkit-user-select  :  text;
       -moz-user-select  :  text;
        -ms-user-select  :  text;
            user-select  :  text;
}

#searchInput:focus  {
    outline  :  none;
    cursor  :  text;
}

#searchInput::-moz-placeholder             {
    color  :  white;
}

#searchInput::-ms-input-placeholder        {
    color  :  white;
}

#searchInput::-webkit-input-placeholder    {
    color  :  white;
}

#searchInput::placeholder                  {
    color  :  white;
}

#searchSpecials  {
    display  :  flex;
    flex-direction  :  row;
    justify-content  :  space-between;

    position  :  relative;
    left  :  -30px;
    width  :  calc(100% + 60px);
    margin  :  40px 0 15px 0;

    font-size  :  1.6rem;
    pointer-events  :  auto;
// background : white;
    -webkit-transition  :  opacity 500ms;
       -moz-transition  :  opacity 500ms;
         -o-transition  :  opacity 500ms;
            transition  :  opacity 500ms;
}

#searchSpecials.grayed  {
    opacity  :  0.6;

    pointer-events  :  none;
}

#searchSpecials a  {
    padding : 2px 10px 4px 10px;
    color : white;
    text-shadow : 1px 1px 1px rgba(0,0,0,0.5);
    border-radius : 2px;
    background : $genericButtonColor;

    cursor  :  pointer;
    transition : background 350ms;
}

#searchSpecials a:hover  {
    background : #333;
}

#searchSpecials span.notAvailable  {
    display  :  none;
}

#searchSpecials.SAM  {
    justify-content  :  space-around;
}

/*  -----------------------   searchResults  panel  ----------------------  */

.panel.results-panel  {
    opacity  :  0;

    position  :  relative;
    height  :  auto;
    margin  :  0 0 15px 0;
    // padding-top  :  0;
    padding-bottom  :  10px;
    z-index  :  1;

    // border : 1px solid white;
    transition  :  opacity 350ms 200ms;
}

#countrySearch  {
    opacity  :  1;

    position  :  relative;
    left  :  -28px;
    width  :  calc(100% + 56px);
    padding : 15px 0;

    font-size  :  1.8rem;
    font-variant  :  small-caps;
    color  :  #fff;
    line-height  :  34px;
    text-align  :  center;
    letter-spacing  :  0.1em;

    border-right  :  22px solid $bgColor;
    border-left  :  22px solid $bgColor;
    background  :  $panelFlyoutColor;
    box-shadow  :  inset 0 5px 4px -4px rgba(0,0,0,0.3), inset 0 -5px 4px -4px rgba(0,0,0,0.3);
}

#searchResults  {
    opacity  :  0;

    position  :  relative;
    left  :  -24px;
    width  :  calc(100% + 48px);
    height  :  auto;
    // min-height  :  110px;
    max-height  :  330px;
    // margin  :  0 0 0 -18px;
    padding  :  0;

    font-size  :  1.6rem;
    line-height  :  1.15em;
    border-top  :  10px solid transparent;
    border-bottom  :  5px solid transparent;

    box-shadow : 0 -1px 0 rgba(255,255,255,0.35);
    -webkit-overflow-scrolling  :  touch;

    overflow-x  :  hidden;
    overflow-y  :  auto;
    cursor  :  pointer;
    transition  :  height 350ms;
}

#searchResults.fadeIn  {
    opacity  :  1;
    transition  :  all 2s;
}

#searchResults li  {
    // margin  :  1px 0 1px 0;
    padding  :  0 0 2px 16px;

    list-style-type  :  none;
}

#searchResults li.bird {
    font-size : 1.5rem;
}

.noselect {
    -webkit-touch-callout  :  none;

    -webkit-user-select  :  none;
       -moz-user-select  :  none;
        -ms-user-select  :  none;
            user-select  :  none;
}

#countrySearch.closed  {
    opacity  :  0;

    height  :  0;
}

#searchResults li:hover  {
    color  :  white;
    background-color  :  $birdRolloverColor;
}

#searchResults li:not(.family) span:first-child  {
    padding  :  3px 0 3px 16px;
}

#searchResults li.active  {
    color  :  white;
    background-color  :  #000;
}

.family   {
    padding  :  0 5px 2px 0;
    font-size  :  1.6rem;
}

.familyOpen {
    padding  :  0 5px 2px 0;
    font-size  :  1.6rem;
}

#searchResults .family      {
    margin  :  5px 0 0 0;
}

#searchResults .familyOpen  {
    margin  :  5px 0 0 0;
}

#searchResults span:not(.fsc):last-child  {
    position  :  absolute;
    left  :  53.8%;
    font-style  :  italic;
}

.fsc  {
    position  :  absolute;
    left  :  53.8%;
    font-weight  :  bold;
    font-style  :  normal;
}

.fco  {
    font-weight  :  bold;
}

.endemic:before  {
    content  :  'e';

    position  :  relative;
    left  :  -9px;

    font-size  :  1.4rem;
}

.extinct:before  {
    content  :  'x';

    position  :  relative;
    left  :  -9px;

    font-size  :  1.4rem;
}

.hy:before  {
    content  :  'h';

    position  :  relative;
    left  :  -9px;

    font-size  :  1.4rem;
}

.va:before  {
    content  :  'v';

    position  :  relative;
    left  :  -9px;

    font-size  :  1.4rem;
}

#searchResults .endemic,#searchResults .extinct,#searchResults .hy,#searchResults .va  {
    position  :  relative;
    left  :  -7px;
}

#taxPageButtons  {
    cursor  :  pointer;
}

#taxPageButtons:hover  {
    background-color  :  #5f7a81;
    box-shadow  :  0 3px 5px -5px #000;
}

/*  -----------------------------   #taxPage panel  ---------------------  */

#taxPage  {
    position  :  relative;
    left  :  0;
    width  :  100%;

    height  :  calc(100vh - 122px);
    min-height  :  500px;
    padding  :  12px 0 5px 0;

    font-size  :  1.6rem;

/* necessary because 100% padding right would else break line at spaces and hyphens */
    white-space  :  nowrap;

    -webkit-overflow-scrolling  :  touch;

    overflow-x  :  hidden;
    overflow-y  :  auto;

    border-top  :  15px solid transparent;
    border-bottom  :  15px solid transparent;
    border-radius  :  10px;
    // box-shadow  :  0 0 0 1px rgba(0, 0, 0, 0.3);

/* resize is completely broken in FF and Chrome */

    resize  :  none;
    cursor  :  pointer;
}

#tree ul           {
    list-style-type  :  none;
}

.birds             {
    display  :  none;
}

/*
	position : relative MUST be here for entry.offsetTop to work in taxonomy.js
	it is the offset distance to the nearest relatively-positioned parent
*/

.birds.open        {
    display  :  block;
    position  :  relative;
}

#tree .family      {
    padding  :  0 0 2px 0;
}

#tree .familyOpen  {
    margin  :  0 0 2px 0;
    // padding  :  0 0 0 0;
}

/*target : family common name only*/
#tree li.family > span:nth-child(1)  {
    padding  :  0 0 0 15px;
}

/*target : familyOpen common name only*/
#tree li.familyOpen > span:nth-child(1)  {
    padding  :  0 0 0 15px;
    // color : white;
}

/*target : familyOpen sci name only*/
#tree li.familyOpen > span:nth-child(2)  {
    // color : white;
}

#tree li.familyOpen  {
    background  :  $birdRolloverColor;
}

#tree li.familyOpen:hover > span:first-child  {
    padding  :  1px calc(100% - 60px) 4px 15px;

    border-radius  :  5px;
    background  :  $birdRolloverColor;
}

#tree .familyOpen  ul  {
    // padding  :  0 0 0 1px;
    margin-bottom : 3px;

    font-size  :  1.5rem;
    line-height  :  2rem;
    // border-top  :  1px solid $birdRolloverColor;

    border-bottom  :  1px solid $birdRolloverColor;
    background  :  $familyOpenColor;
}

/*target : familyOpen common names only*/
#tree .familyOpen  ul  li span:first-child {
    padding  :  1px 0 2px 27px;
}

/*target : familyOpen sci names only*/
#tree .familyOpen .birds li span:last-child  {
    position  :  absolute;
    left  :  calc( 53% + 10px);
    padding  :  0 0 3px 0;
}


#tree .familyOpen .birds li:last-child  {
    margin-bottom  :  2px;
}

#taxPage.samTax .hy:before,#taxPage.samTax .va:before  {
    content  :  '';
}

#taxPage.samTax .hy,#taxPage.samTax .va  {
    position  :  relative;
    left  :  19px;
}

#searchResults.samTax .hy:before,#searchResults.samTax .va:before  {
    content  :  '';
}

#searchResults.samTax .hy,#searchResults.samTax .va  {
    position  :  relative;
    left  :  0;
}

#taxPage.samTax li.familyOpen span.hy  {
    position  :  relative;
    left  :  19px;
}

#taxPage.samTax li.familyOpen span.va  {
    position  :  relative;
    left  :  19px;
}

#taxPage .endemic,#taxPage .extinct,#taxPage .hy,#taxPage .va  {
    position  :  relative;
    left  :  -8px;
}

#tree .fco,#tree .fsc  {
    font-weight  :  bold;
}

#tree .family:hover {
    color  :  white;
    background-color  :  $birdRolloverColor;
}

#tree li.familyOpen:hover > ul  {
    // border-radius  :  5px;
}

/*    below targets each individual bird */
#tree li.familyOpen:hover > ul > li:hover, #tree ul li:hover  {
    color  :  white;
    background-color  :  $birdRolloverColor;
}

#tree ul li {
    margin  :  1px 0 1px 0;
}

/* added by toggleFamilyOpen */
#tree ul li.active {
    color  :  white;
    background-color  :  #000;
}

@media screen and (max-width:840px)  {
    #treeIntroText  {
        left  :  -6px;
        width  :  calc(100% + 12px);
        height  :  36px;
        margin  :  20px auto 20px auto;

        font-size  :  16px;

        border  :  2px solid rgba(106, 136, 157,1);
    }

    .family   {
        font-size  :  11px;
    }

    .familyOpen {
        font-size  :  11px;
    }

    #searchResults  {
        font-size  :  11px;
    }

    .fsc  {
        font-size  :  11px;
    }

    .fco  {
        font-size  :  11px;
    }
}
