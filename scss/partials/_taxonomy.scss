/*  ------------------------------   taxonomy panel   ------------------------------------------  */

.slideUpWrapper  {
    // max-height : 600px;
    pointer-events  :  auto;
    overflow-y: hidden;

    transform-origin: top;
    // transform : scale(1) translateY(0);
    transform : translateY(0) scaleY(1);

    transition  :  all 250ms;
}

.slideUpWrapper.closeInstructions  {
    // max-height: 0;
    // transform : scale(0.8) translateY(30px);
    transform : translateY(30px) scaleY(0);

    // transition  :  all 250ms;
}

.slideUpWrapper.hovering  {
    opacity : 0.7;
    transform : scale(0.8) translateY(30px);
    transition : all 750ms;
}

.taxInstructionsButton  {
    position  :  absolute;
    top : -40px;
    right : -5%;

    width  :  46px;
    height  :  46px;
    padding  :  0.3em 0 0 0;
    z-index  :  2;

    font-size  :  1.6rem;
    font-weight  :  bold;
    color  :  #fff;
    text-align  :  center;

    border-radius  :  50%;
    background-color  :  darken($searchHeaderColor, 20%);
    box-shadow  :  0 0 15px rgba(0, 0, 0, 0.8), 0 0 0 1px #fff;

    z-index: 2;
    cursor  :  pointer;
    -webkit-transition  :  all 850ms ease-in-out 500ms;
       -moz-transition  :  all 850ms ease-in-out 500ms;
         -o-transition  :  all 850ms ease-in-out 500ms;
            transition  :  all 850ms ease-in-out 500ms;
}

.taxInstructionsButton:hover {
    background-color  :  #252525;
}

.taxInstructionsButton.instructionsClosed {
    right : 90%;
    top : -30px;
    background-color  :  rgba(0,0,0,0.5);
}

// .taxInstructionsButton:hover + div.slideUpWrapper {
//     will-change  :  height, opacity;
// }

#searchForm  {
    display  :  flex;
    flex-direction  :  column;
    justify-content  :  space-between;

    position  :  relative;
    padding  :  10px 15px 30px 15px;
    margin-top : 10px;

    align-content  :  center;

    // border-bottom  :  none;

    z-index: 1;

    -webkit-transition  :  all 850ms ease-in-out;
       -moz-transition  :  all 850ms ease-in-out;
         -o-transition  :  all 850ms ease-in-out;
            transition  :  all 850ms ease-in-out;
}

#searchForm > div:first-child  {
    width  :  100%;
    margin  :  30px 0 0 0;

    text-align  :  center;
    pointer-events  :  auto;

    -webkit-transition  :  all 2s;
       -moz-transition  :  all 2s;
         -o-transition  :  all 2s;
            transition  :  all 2s;
}

#searchForm span.grayed  {
    opacity  :  0.6;
    pointer-events  :  none;
}

#taxonomyCountryButton {
    margin-right : 30px;
    padding      : 8px 14px 10px 14px;
    line-height  : 20px;
}

#searchInput  {
    height               :  auto;
    margin               :  0;
    padding              :  3px 0     4px 0;

    font-size            :  1rem;
    color                :  white;
    letter-spacing:      0.1em;
    text-align           :  center;
    text-shadow          :  1px 1px   2px rgba(0,0,0,0.3);

    border               :  1px solid rgba(0,0,0,0.8);
    border-radius        :  3px;
    background-color           :  $panelColor;

    -webkit-user-select  : text;
    -moz-user-select     : text;
    -ms-user-select      : text;
    user-select          : text;
}

#searchInput:focus  {
    outline  :  none;
    cursor  :  text;
}

#searchInput::-moz-placeholder             {
    color  :  white;
}

#searchInput::-ms-input-placeholder        {
    color  :  white;
}

#searchInput::-webkit-input-placeholder    {
    color  :  white;
}

#searchInput::placeholder                  {
    color  :  white;
}

#searchSpecials  {
    display  :  flex;
    flex-direction  :  row;
    justify-content  :  space-between;

    position  :  relative;
    left  :  -30px;
    width  :  calc(100% + 60px);
    margin  :  40px 0 15px 0;

    font-size  :  0.9rem;
    pointer-events  :  auto;

    -webkit-transition  :  opacity 500ms;
       -moz-transition  :  opacity 500ms;
         -o-transition  :  opacity 500ms;
            transition  :  opacity 500ms;
}

#searchSpecials.grayed  {
    opacity  :  0.6;
    pointer-events  :  none;
}

#searchSpecials a  {
    padding : 2px 10px 4px 10px;
    color : white;
    text-shadow : 1px 1px 1px rgba(0,0,0,0.5);
    border-radius : 2px;
    background-color : $genericButtonColor;

    cursor  :  pointer;
    transition : background-color 350ms;
}

#searchSpecials a:hover  {
    background-color : #333;
}

#searchSpecials span.notAvailable  {
    display  :  none;
}

#searchSpecials.SAM  {
    justify-content  :  space-around;
}

/*  -----------------------   searchResults  panel  ----------------------  */

.panel.results-panel  {
    opacity  :  0;

    position  :  relative;
    height  :  0;

width : calc(100% + 10vw);
left : -10vw;

    margin  :  0 0 45px 0;
    padding-bottom  :  10px;
    // overflow-y: auto;
    // overflow-x  :  visible;
border: none;
box-shadow: none;

    // z-index  :  1;
    transform : translateY(-80px);
    transition  :  all 1000ms;
}

.panel.results-panel.translateDown  {
    opacity : 1;
    height : auto;
    transform : translateY(0);
    // transition  :  transform 1000ms opacity 350ms 200ms;

}

#countrySearch  {
    opacity  :  1;

    position  :  relative;
    left  :  -28px;
    width  :  calc(100% + 56px);
    padding : 15px 0;

left : 10vw;
width : calc(100% - 10vw);

    font-size  :  1.1rem;
    font-variant  :  small-caps;
    color  :  #fff;
    line-height  :  34px;
    text-align  :  center;
    letter-spacing  :  0.1em;

    border-right  :  22px solid $bgColor;
    border-left  :  22px solid $bgColor;
    background-color  :  $panelFlyoutColor;
    box-shadow  :  inset 0 5px 4px -4px rgba(0,0,0,0.3), inset 0 -5px 4px -4px rgba(0,0,0,0.3);

box-shadow : none;
border : none;
}

#searchResults  {
    opacity  :  0;

    position  :  relative;
    left  :  -24px;
    width  :  calc(100% + 48px);
    height  :  auto;
    max-height  :  330px;
padding  :  0 0 0 10vw;

    font-size  :  1rem;
    line-height  :  1.15em;

border: none;

    border-top  :  10px solid transparent;
    border-bottom  :  5px solid transparent;

    box-shadow : 0 -1px 0 rgba(255,255,255,0.35);
    -webkit-overflow-scrolling  :  touch;

    // overflow-x  :  visible;
    overflow-y  :  auto;
    // cursor  :  pointer;
    transition  :  height 350ms;

box-shadow : none;
}

#searchResults.fadeIn  {
    opacity  :  1;
    transition  :  all 2s;
}

#fakeResultsBox  {
    position : absolute;
    top : 64px;
    height : calc(100% - 64px);
    width : calc(100% - 10vw);
    left : 10vw;
    // border: 1px solid white;

    border  :  1px solid rgba(255,255,255,0.25);
    border-radius  :  3px;
    box-shadow: 0 0 0 2px rgba(0,0,0,0.2);
    background-color: transparent;
    pointer-events : none;
}

// #ulWrap  {
    // overflow-y: auto;
    // overflow-x  :  visible;
// }

#searchResults li  {
    position : relative;
    padding  :  0 0 2px 16px;
    list-style-type  :  none;
    cursor  :  pointer;
}

#searchResults li.bird {
    font-size : 0.9rem;
}

.noselect {
    -webkit-touch-callout  :  none;
    -webkit-user-select  :  none;
       -moz-user-select  :  none;
        -ms-user-select  :  none;
            user-select  :  none;
}

#countrySearch.closed  {
    opacity  :  0;
    height  :  0;
}

#searchResults li:hover  {
    color  :  white;
    background-color  :  $birdRolloverColor;
}

#searchResults li:not(.family) span:first-child  {
    padding  :  3px 0 3px 16px;
}

#searchResults li.active  {
    // margin-right: -15px;

    // border-right : 15px solid $birdActiveColor;

    background-color : $birdActiveColor;
}

#searchResults li.active::before  {
    position : absolute;
    left : -10vw;
    content : '';

    background-color : $birdActiveColor;
    height : 100%;
    width : 10vw;
    border : 10px solid $birdActiveColor;

    border-left : 1vw solid $birdRolloverColor;
}


.family   {
    padding  :  0 0 2px 0;
    font-size  :  1rem;
    // box-shadow: 0 1px transparent;
}

.familyOpen {
    padding  :  0 0 2px 0;
    font-size  :  1rem;
    // box-shadow: 0 1px black;
}

#searchResults .family      {
    margin  :  5px 0 0 0;
}

#searchResults .familyOpen  {
    margin  :  5px 0 0 0;
}

#searchResults span:not(.fsc):last-child  {
    position  :  absolute;
    left  :  53.8%;
    // font-style  :  italic;
}

.fsc  {
    position  :  absolute;
    left  :  53.8%;
    font-weight  :  bold;
    font-style  :  normal;
}

.fco  {
    font-weight  :  bold;
}

.endemic::before  {
    content  :  'e';

    position  :  relative;
    left  :  -9px;
    font-size  :  0.8rem;
}

.extinct::before  {
    content  :  'x';

    position  :  relative;
    left  :  -9px;
    font-size  :  0.8rem;
}

.hy::before  {
    content  :  'h';

    position  :  relative;
    left  :  -9px;
    font-size  :  0.8rem;
}

.va::before  {
    content  :  'v';

    position  :  relative;
    left  :  -9px;
    font-size  :  0.8rem;
}

#searchResults .endemic,#searchResults .extinct,#searchResults .hy,#searchResults .va  {
    position  :  relative;
    left  :  -7px;
}

/*  -----------------------------   #taxTreeArticle  ---------------------  */

#taxTreeArticle {
    opacity : 0;
    position : relative;
    height : 0;
    margin  :  0 0 15px 0;
    padding-top  :  20px;
    border  :  none;
    box-shadow  :  none;
    transform : translateY(-25vh);
    transition : all 2000ms;

width : calc(100% + 10vw);
left : -10vw;
}

#taxTreeArticle.expand {
    transform : translateY(0);
    height  :  calc(100vh - 38px);
    opacity : 1;
}

#taxPageButtons  {
    cursor  :  pointer;
}

#taxPageButtons:hover  {
    background-color  :  #5f7a81;
    box-shadow  :  0 3px 5px -5px #000;
}

/*  -----------------------------   #taxPage panel  ---------------------  */

#taxPage  {
    position  :  relative;
    left  :  0;
top : 15px;


    width  :  100%;
    // height : 0;
    // opacity : 0;

    height  :  calc(100vh - 262px);
    // min-height  :  500px;
    // padding  :  12px 0 5px 0;

padding  : 12px 0 50px 10vw;

    font-size  :  1rem;

/* necessary because 100% padding right would else break line at spaces and hyphens */
    white-space  :  nowrap;

    // -webkit-overflow-scrolling  :  touch;

    // overflow-x  :  visible;
    overflow-y  :  auto;
    // z-index : -10;
    border-top  :  15px solid transparent;
    border-bottom  :  15px solid transparent;
    border-radius  :  10px;

// list-style: none;
// list-style-type  :  none;

background-color : transparent;
border: none;
box-shadow: none;

/* resize is completely broken in FF and Chrome */
    // resize  :  none;
    // cursor  :  pointer;
}

#fakeTaxPageBox  {
    position : absolute;
    top : 64px;
    height : calc(100% - 195px);
    width : calc(100% - 10vw);
    left : 10vw;

    border  :  1px solid rgba(255,255,255,0.25);
    border-radius  :  3px;
    box-shadow: 0 0 0 1px rgba(0,0,0,0.1);
    background-color: transparent;
    pointer-events : none;
    z-index: 10;
}

#tree *       {
    list-style-type  :  none;
// list-style  :  none;
}

.birds             {
    display  :  none;
}

#tree .fsc  {
    position  :  absolute;
    left  :  64.5%;
    font-weight  :  bold;
    font-style  :  normal;
}

/*
	position : relative MUST be here for entry.offsetTop to work in taxonomy.js
	it is the offset distance to the nearest relatively-positioned parent
*/
.birds.open        {
    display  :  block;
    position  :  relative;
}

#tree .family      {
    // padding  :  1px 0 3px 0;
    padding  :  0 0 2px 0;

    // border-top : 1px solid transparent;
    // border-bottom : 1px solid transparent;
    font-size  :  1rem;
    cursor  :  pointer;
}

// #tree .familyOpen      {
//     padding  :  1px 0 3px 0;

//     font-size  :  1rem;
// }

/*target : family common name only*/
#tree li.family > span:nth-child(1)  {
    padding  :  0 0 0 15px;
}

/*target : familyOpen common name only*/
#tree li.familyOpen > span:nth-child(1)  {
    padding  :  0 0 0 15px;
}

/*target : familyOpen sci name only*/
// #tree li.familyOpen > span:nth-child(2)  {
// }

#tree li.familyOpen  {
    // padding-top : 1px;
    padding-top : 0;

    // border-top : 1px solid #444;
    // border-bottom : 1px solid #444;
    background-color  :  $birdRolloverColor;
    cursor  :  pointer;
}

#tree li.familyOpen:hover > span:first-child  {
    padding  :  1px 0 0 15px;

    // border-radius  :  5px;
    background-color  :  $birdRolloverColor;
}

#tree .familyOpen  ul  {
    margin-top : 0;
    margin-bottom : 0;
    padding : 0;
    font-size  :  0.9rem;
    line-height  :  1rem;
    border-left  :  1px solid $birdRolloverColor;
    // border-bottom  :  1px solid #bbb;

    background-color  :  $familyOpenColor;
}

/*target : familyOpen common names only*/
#tree .familyOpen  ul  li span:first-child {
    padding  :  1px 0 0 27px;
}

/*target : familyOpen sci names only*/
#tree .familyOpen .birds li span:last-child  {
    position  :  absolute;
    left  :  calc( 53% + 10px);
    // padding  :  0 0 3px 0;
}


#tree .familyOpen .birds li:last-child  {
    margin-bottom  :  0;
}

#taxPage.samTax .hy:before,#taxPage.samTax .va:before  {
    content  :  '';
}

#taxPage.samTax .hy,#taxPage.samTax .va  {
    position  :  relative;
    left  :  19px;
}

#searchResults.samTax .hy:before,#searchResults.samTax .va:before  {
    content  :  '';
}

#searchResults.samTax .hy,#searchResults.samTax .va  {
    position  :  relative;
    left  :  0;
}

#taxPage.samTax li.familyOpen span.hy  {
    position  :  relative;
    left  :  19px;
}

#taxPage.samTax li.familyOpen span.va  {
    position  :  relative;
    left  :  19px;
}

#taxPage .endemic,#taxPage .extinct,#taxPage .hy,#taxPage .va  {
    position  :  relative;
    left  :  -8px;
}

#tree .fco,#tree .fsc  {
    font-weight  :  bold;
}

#tree .family:hover {
    color  :  white;
    // border-top : 1px solid #444;
    // border-bottom : 1px solid #444;
    background-color  :  $birdRolloverColor;
}

#tree .family:hover::before, #tree .familyOpen:hover::before {
    position : relative;
    top : 1px;
    left : -10px;
    margin-right : -5px;
    content : '';

    height : 100%;

    border-left : 5px solid $birdRolloverColor;
}

/*    below targets each individual bird */
#tree li.familyOpen:hover > ul > li:hover, #tree ul li:hover  {
    padding : 1px 0 3px 0;

    border-top : 1px solid #444;
    border-bottom : 1px solid #444;
    background-color  :  $birdRolloverColor;
    transition: background-color 450ms;
}

#tree ul > li:hover::before  {
    position : relative;
    top : 1px;
    left : -10px;
    margin-right : -5px;
    content : '';

    // background-color : $birdActiveColor;
    height : 100%;
    width : 0;

    border-left : 5px solid $birdRolloverColor;
    // transition: all 450ms;
}


#tree ul li {
    padding : 2px 0 4px 0;
//     border-top : 1px solid $birdRolloverColor;
//     border-bottom : 1px solid $birdRolloverColor;
//
}

/* added by toggleFamilyOpen */
#tree ul li.active {
    position : relative;
    background-color : $birdActiveColor;
}

#tree ul li.active::before {
    position : absolute;
    top : 0;
    left : -10vw;
    content : '';

    background-color : $birdActiveColor;
    height : 100%;
    width : 10vw;
    // border : 10.5px solid $birdActiveColor;
    // border-top : 1px solid #444;
    // border-bottom : 1px solid #444;
    border-right : 0 solid $birdRolloverColor;

    border-left : 1vw solid $birdRolloverColor;

    transition: border-right 450ms, border-left 450ms 450ms;
    // box-shadow  :  inset 3vw 0 0 $birdRolloverColor;
}

#tree ul li.active:hover::before  {
    border-right : 9vw solid $birdRolloverColor;

    // border-left : 2vw solid #222;
}